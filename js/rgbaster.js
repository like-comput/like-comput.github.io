!function(n){"use strict";var t=function(n,t){var a=new Image,e=n.src||n;"data:"!==e.substring(0,5)&&(a.crossOrigin="Anonymous"),a.onload=function(){var n=document.createElement("canvas").getContext("2d");n.drawImage(a,0,0);var e=n.getImageData(0,0,a.width,a.height);t&&t(e.data)},a.src=e},a=function(n){return["rgb(",n,")"].join("")},e={};e.colors=function(n,e){var o=(e=e||{}).exclude||[],r=e.paletteSize||10;t(n,(function(t){for(var i=n.width*n.height||t.length,c={},u="",m=[],s={dominant:{name:"",count:0},palette:Array.apply(null,new Array(r)).map(Boolean).map((function(){return{name:"0,0,0",count:0}}))},d=0;i>d;){if(m[0]=t[d],m[1]=t[d+1],m[2]=t[d+2],c[u=m.join(",")]=u in c?c[u]+1:1,-1===o.indexOf(a(u))){var f=c[u];f>s.dominant.count?(s.dominant.name=u,s.dominant.count=f):s.palette.some((function(n){return f>n.count?(n.name=u,n.count=f,!0):void 0}))}d+=20}if(e.success){var l=function(n){return n.map((function(n){return a(n.name)}))}(s.palette);e.success({dominant:a(s.dominant.name),secondary:l[0],palette:l})}}))},n.RGBaster=n.RGBaster||e}(window);